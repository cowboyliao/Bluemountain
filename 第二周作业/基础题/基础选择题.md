（1）一个结构体所占空间大小，与下面哪些相关：

​			A 成员本身大小；B 成员对齐系数；C 系统字长

A，B，C

A：占多大，是真是空间，

B：让它对齐需要的大小如果能互补，能影响空间大小

C：32位，64位可以直接影响成员本身大小如：int类型



（2）下面这个结构体的成员怎么排布，占用内存最小？（假设系统64位）

```go
type A struct{
  byte1 byte
  a struct{}
  num1 int32
  str string
}
```

![](https://s2.loli.net/2022/07/24/7uFPIsNdVgifjGR.png)

> 通过Sizeof()知道占用的字节数，通过ALignof()知道对齐的字节数。
>
> 所以似乎、、这已经是最优解了？



（3）Go字符串中，每个字符占用多少字节：

​			A 1；B 3；C 1-4

C，字符，的看是byte还是rune了





   (4)  Go的map使用的数据结构是：

​			A B+树；B 开放寻址法的Hash表 ；C 拉链法Hash

B，粗略的讲,*Go*语言中*map*采用的是哈希查找表,由一个key通过哈希函数得到哈希值,64位系统中就生成一个64bit的哈希值,由这个哈希值将key对应到不同的桶(bucket)中



（5）空结构体的地址在任何时候都是zerobase？

​		   A 是；B 不是

![](https://s2.loli.net/2022/07/24/clTMJASX83oZnDx.png)

是



（6）空接口就是nil接口？

不是，是个坑， interface{} 类型的变量包含了 2 个指针，但nil就是啥没有



参考文献：

[内存对齐 | 原来字段顺序还能影响结构体占用的内存空间 - 腾讯云开发者社区-腾讯云 (tencent.com)](https://cloud.tencent.com/developer/article/1780952)

[Go 语言 map 的底层实现完整剖析 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/406751292)

[(258条消息) Go 神坑 1 —— interface{} 与 nil 的比较_恋喵大鲤鱼的博客-CSDN博客](https://blog.csdn.net/k346k346/article/details/120849263)